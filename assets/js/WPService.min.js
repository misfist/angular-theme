function WPService(e){function t(e,t){document.querySelector("title").innerHTML=o+" | "+e,a.pageTitle=t}var s="wp-json/wp/v2/",o="WP Dev",a={posts:[],categories:[],pageTitle:"",currentPage:1,totalPages:1};return a.getPosts=function(o){return e.get(s+"posts/?page="+o).success(function(e,s,n){o=parseInt(o),isNaN(o)||o>n("X-WP-TotalPages")?t("Page Not Found","Page Not Found"):o>1?t("Posts on Page "+o,"Posts on Page "+o):t("Home","Latest Posts"),t("Home","Latest Posts"),a.posts=e,a.pageTitle="Latest Posts",a.currentPage=o,a.totalPages=n("X-WP-TotalPages")})},a.getAllCategories=function(){a.categories.length||e.get(s+"terms/category/").success(function(e){a.categories=e})},a}app.factory("WPService",["$http",WPService]);